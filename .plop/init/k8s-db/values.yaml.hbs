nameOverride: ""
fullnameOverride: ""

migration:
  image:
    repository: ''
    pullPolicy: IfNotPresent
    tag: ''

  postgres:
    hostname: db-postgres
    port: 5432
    database: {{snakeCase name}}
    username: postgres

postgres:
  auth:
    database: {{snakeCase name}}
    username: {{snakeCase name}}
    existingSecret: postgres-auth-secrets

  primary:
    extraEnvVarsSecret: postgres-primary-secrets
    extraEnvVars:
      - name: POSTGRESQL_PGAUDIT_LOG
        value: "all"

    initdb:
      user: postgres
      scripts:
        access.sql: |
          ALTER DEFAULT PRIVILEGES IN SCHEMA public
            GRANT ALL PRIVILEGES ON TABLES TO {{snakeCase name}};
          ALTER DEFAULT PRIVILEGES IN SCHEMA public
            GRANT ALL PRIVILEGES ON SEQUENCES TO {{snakeCase name}};

redis:
  architecture: standalone
  auth:
    existingSecret: redis-secrets
    existingSecretPasswordKey: redis-password
